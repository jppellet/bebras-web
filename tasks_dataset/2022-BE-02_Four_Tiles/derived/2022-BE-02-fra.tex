\documentclass[a4paper,11pt]{report}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage[french]{babel}
\frenchbsetup{ThinColonSpace=true}
\renewcommand*{\FBguillspace}{\hskip .4\fontdimen2\font plus .1\fontdimen3\font minus .3\fontdimen4\font \relax}
\AtBeginDocument{\def\labelitemi{$\bullet$}}

\usepackage{etoolbox}

\usepackage[margin=2cm]{geometry}
\usepackage{changepage}
\makeatletter
\renewenvironment{adjustwidth}[2]{%
    \begin{list}{}{%
    \partopsep\z@%
    \topsep\z@%
    \listparindent\parindent%
    \parsep\parskip%
    \@ifmtarg{#1}{\setlength{\leftmargin}{\z@}}%
                 {\setlength{\leftmargin}{#1}}%
    \@ifmtarg{#2}{\setlength{\rightmargin}{\z@}}%
                 {\setlength{\rightmargin}{#2}}%
    }
    \item[]}{\end{list}}
\makeatother

\newcommand{\BrochureUrlText}[1]{\texttt{#1}}
\usepackage{setspace}
\setstretch{1.15}

\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{makecell}
\usepackage{multirow}
\renewcommand\theadfont{\bfseries}
\renewcommand{\tabularxcolumn}[1]{>{}m{#1}}
\newcolumntype{R}{>{\raggedleft\arraybackslash}X}
\newcolumntype{C}{>{\centering\arraybackslash}X}
\newcolumntype{L}{>{\raggedright\arraybackslash}X}
\newcolumntype{J}{>{\arraybackslash}X}

\newcommand{\BrochureInlineCode}[1]{{\ttfamily #1}}

\usepackage{amssymb}
\usepackage{amsmath}

\usepackage[babel=true,maxlevel=3]{csquotes}
\DeclareQuoteStyle{bebras-ch-eng}{“}[” ]{”}{‘}[”’ ]{’}\DeclareQuoteStyle{bebras-ch-deu}{«}[» ]{»}{“}[»› ]{”}
\DeclareQuoteStyle{bebras-ch-fra}{«\thinspace{}}[» ]{\thinspace{}»}{“}[»\thinspace{}› ]{”}
\DeclareQuoteStyle{bebras-ch-ita}{«}[» ]{»}{“}[»› ]{”}
\setquotestyle{bebras-ch-fra}

\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{svg}
\svgsetup{inkscapeversion=1,inkscapearea=page}
\usepackage{wrapfig}

\usepackage{enumitem}
\setlist{nosep,itemsep=.5ex}

\setlength{\parindent}{0pt}
\setlength{\parskip}{2ex}
\raggedbottom

\usepackage{fancyhdr}
\usepackage{lastpage}
\pagestyle{fancy}

\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.4pt}
\lfoot{\scriptsize © 2022 Bebras (CC BY-SA 4.0)}
\cfoot{\scriptsize\itshape 2022-BE-02 Mosaïque}
\rfoot{\scriptsize Page~\thepage{}/\pageref*{LastPage}}

\newcommand{\taskGraphicsFolder}{..}

\begin{document}

\section*{\centering{} 2022-BE-02 Mosaïque}


\subsection*{Body}

Tu dois poser quatre carreaux pour former un carré de manière à ce que deux bords qui se touchent portent toujours le même symbole.

Les quatre carreaux ci-dessous peuvent par exemple former le carré suivant:

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics//2022-BE-02-taskbody.svg}\par}

{\em


\subsection*{Question/Challenge - for the brochures}

Quatre des cinq carreaux ci-dessous peuvent former un tel carré. Quel carreau ne devras-tu pas utiliser?

}


\subsection*{Interactivity Instructions}



\begingroup
\renewcommand{\arraystretch}{1.5}
\subsection*{Answer Options/Interactivity Description}

\begin{tabularx}{\columnwidth}{ @{} r L r L r L r L r L @{} }
  A) & \makecell[l]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-answerA.svg}} & B) & \makecell[l]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-answerB.svg}} & C) & \makecell[l]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-answerC.svg}} & D) & \makecell[l]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-answerD.svg}} & E) & \makecell[l]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-answerE.svg}}
\end{tabularx}

\endgroup

\subsection*{Answer Explanation}

Il y a ${{5 \choose 4}  \cdot 4! \cdot 4^4 = 30720}$ possibilités différentes de choisir et d’arranger quatre des cinq carreaux. Même en tenant compte du fait qu’au moins quatre solutions peuvent être obtenues par symétrie rotationelle, il en reste encore beaucoup trop pour toutes les essayer.

C’est pour cela qu’il faut commencer par regarder la distribution des symboles sur les carreaux. On remarque alors que la demi-étoile bleue \raisebox{\dimexpr -0.5ex +0.4ex \relax}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation_blue-semistar.svg}} n’est présente que sur le carreau C). Comme ce symbole est présent deux fois autour du même coin, les deux autres carreaux touchant le carreau C) ne peuvent être mis qu’à sa gauche et en dessous si on ne change par l’orientation du carreau C) (ce qui n’est de toute façon pas nécessaire avec le premier carreau).

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation1.svg}\par}

De plus, il n’existe qu’un seul carreau avec un cercle noir \raisebox{\dimexpr -0.5ex +0.4ex \relax}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation_black-circle.svg}}, le carreau E), qui doit donc être mis en dessous:

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation2.svg}\par}

Il n’y a également qu’un seul carreau qui peut être posé à côté du rectangle rouge \raisebox{\dimexpr -0.5ex +0.4ex \relax}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation_red-rectangle.svg}}, le carreau B). Celui-ci a deux rectangles rouges, mais comme il n’y a aucun autre carreau avec ce rectangle, il doit être tourné de manière à ce que le deuxième rectangle soit en haut et pas en bas. Sinon, il faudrait mettre un carreau avec un rectangle rouge en dessous, et il n’y en a pas:

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation3.svg}\par}

Finalement, il ne nous manque qu’un carreau avec un carré magenta \raisebox{-0.5ex}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation_magenta-square.svg}} et deux demi-cercles bruns \raisebox{\dimexpr -0.5ex +0.4ex \relax}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation_brown-semicircles.svg}}. Le carreau D) a ces symboles, mais pas dans le bon ordre: les demi-cercles bruns devraient se trouver après le carré magenta dans le sens des aiguilles d’une montre, mais l’inverse est vrai.

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation4.svg}\par}

Comme aucun carreau placé n’avait d’alternative, nous avons ainsi démontré qu’on ne peut pas former un carré remplissant les conditions avec le carreau C) qui a deux demi-étoiles bleues.

On peut former un tel carré avec les quatre autres carreaux:

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation0.svg}\par}

Le carreau C) est donc le seul ne permettant pas de former un tel carré, et C) est la bonne réponse.


\subsection*{It’s Informatics}

Lorsque deux carreaux portent le même symbole, ils peuvent être assemblés côte à côte. On peut représenter cela à l’aide d’un \emph{graphe}: les carreaux sont représentés par les \emph{nœuds}, et une arête relie deux nœuds lorsque les carreaux correspondants ont un symbole commun. Voici le graphe correspondant aux cinq carreaux de cet exercice:

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-itsinformatics_tiles-graph.svg}\par}

Si quatre carreaux peuvent être assemblés pour former un carré sur lequel deux carreaux adjacents portent toujours le même symbole, cela veut dire qu’il existe dans le graphe un parcours circulaire passant par exactement quatre carreaux, par exemple de A à E à C à B et de retour à A. Nous décrivons ce chemin par A-E-C-B-A, et ceci est équivalent à tous les autres chemins ayant la même séquence, c’est-à-dire aussi E-C-B-A-E, C-B-A-E-C et B-A-E-C-B.

Il existe exactement trois chemins circulaires avec quatre carreaux dans le graphe: A-E-C-B-A comme mentionné, A-E-D-B-A et B-D-E-C-B. Cela réduit le nombre de réponse de ${{5 \choose 4}  \cdot 4! \cdot 4 ^ 4 = 30720}$ (ou ${7680}$ si l’on ignore les chemins symétriques) à ${12}$ (ou ${3}$ si l’on ignore les chemins symétriques). Celles-ci peuvent rapidement être contrôlées pour trouver la bonne solution (A-E-D-B-A).

C’est aussi possible d’utiliser une graphe dans lequel les nœuds représentent les symboles. Pour cela, il faut définir une séquence des symboles sur un carreau de manière fixe, par exemple dans le sens des aiguilles d’une montre:

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-itsinformatics_tiles-5-arrows.svg}\par}

Il existe alors une arête orientée entre deux symboles lorsqu’ils sont voisins dans le sens des aiguilles d’une montre sur un carreau:

{\centering%
\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-itsinformatics_symbols-graph.svg}\par}

Une solution de l’exercice est alors donnée par un chemin circulaire passant par exactement quatre arêtes. C’est le cas du chemin \raisebox{\dimexpr -0.5ex +0.4ex \relax}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-itsinformatics_orange-squares.svg}} - \raisebox{\dimexpr -0.5ex +0.4ex \relax}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-itsinformatics_cyan-triangle.svg}} - \raisebox{\dimexpr -0.5ex +0.4ex \relax}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation_brown-semicircles.svg}} - \raisebox{-0.5ex}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-explanation_magenta-square.svg}} - \raisebox{\dimexpr -0.5ex +0.4ex \relax}[0pt][0pt]{\includesvg[scale=0.45]{\taskGraphicsFolder/graphics/2022-BE-02-itsinformatics_orange-squares.svg}} qui passe par les arêtes A, E, D et B et correspond donc à notre solution.

Ce processus pour lequel on se concentre sur les informations essentielles et ignore le reste s’appelle l’\emph{abstraction}. Dans ce cas, l’abstraction nous permet de touver la bonne solution beaucoup plus rapidement.

{\raggedright

\subsection*{Keywords and Websites}

\begin{itemize}
  \item Graphe: \href{https://fr.wikipedia.org/wiki/Graphe_(math\%C3\%A9matiques_discr\%C3\%A8tes)}{\BrochureUrlText{https://fr.wikipedia.org/wiki/Graphe\_(mathématiques\_discrètes)}}
  \item Nœud (sommet): \href{https://fr.wikipedia.org/wiki/Sommet_(th\%C3\%A9orie_des_graphes)}{\BrochureUrlText{https://fr.wikipedia.org/wiki/Sommet\_(théorie\_des\_graphes)}}
  \item Arête: \href{https://fr.wikipedia.org/wiki/Ar\%C3\%AAte_(th\%C3\%A9orie_des_graphes)}{\BrochureUrlText{https://fr.wikipedia.org/wiki/Arête\_(théorie\_des\_graphes)}}
\end{itemize}


}
\end{document}
