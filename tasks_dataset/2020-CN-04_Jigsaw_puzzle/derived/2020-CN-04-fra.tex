\documentclass[a4paper,11pt]{report}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage[french]{babel}
\frenchbsetup{ThinColonSpace=true}
\renewcommand*{\FBguillspace}{\hskip .4\fontdimen2\font plus .1\fontdimen3\font minus .3\fontdimen4\font \relax}
\AtBeginDocument{\def\labelitemi{$\bullet$}}

\usepackage{etoolbox}

\usepackage[margin=2cm]{geometry}
\usepackage{changepage}
\makeatletter
\renewenvironment{adjustwidth}[2]{%
    \begin{list}{}{%
    \partopsep\z@%
    \topsep\z@%
    \listparindent\parindent%
    \parsep\parskip%
    \@ifmtarg{#1}{\setlength{\leftmargin}{\z@}}%
                 {\setlength{\leftmargin}{#1}}%
    \@ifmtarg{#2}{\setlength{\rightmargin}{\z@}}%
                 {\setlength{\rightmargin}{#2}}%
    }
    \item[]}{\end{list}}
\makeatother

\newcommand{\BrochureUrlText}[1]{\texttt{#1}}
\usepackage{setspace}
\setstretch{1.15}

\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{makecell}
\usepackage{multirow}
\renewcommand\theadfont{\bfseries}
\renewcommand{\tabularxcolumn}[1]{>{}m{#1}}
\newcolumntype{R}{>{\raggedleft\arraybackslash}X}
\newcolumntype{C}{>{\centering\arraybackslash}X}
\newcolumntype{L}{>{\raggedright\arraybackslash}X}
\newcolumntype{J}{>{\arraybackslash}X}

\newcommand{\BrochureInlineCode}[1]{{\ttfamily #1}}

\usepackage{amssymb}
\usepackage{amsmath}

\usepackage[babel=true,maxlevel=3]{csquotes}
\DeclareQuoteStyle{bebras-ch-eng}{“}[” ]{”}{‘}[”’ ]{’}\DeclareQuoteStyle{bebras-ch-deu}{«}[» ]{»}{“}[»› ]{”}
\DeclareQuoteStyle{bebras-ch-fra}{«\thinspace{}}[» ]{\thinspace{}»}{“}[»\thinspace{}› ]{”}
\DeclareQuoteStyle{bebras-ch-ita}{«}[» ]{»}{“}[»› ]{”}
\setquotestyle{bebras-ch-fra}

\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{svg}
\svgsetup{inkscapeversion=1,inkscapearea=page}
\usepackage{wrapfig}

\usepackage{enumitem}
\setlist{nosep,itemsep=.5ex}

\setlength{\parindent}{0pt}
\setlength{\parskip}{2ex}
\raggedbottom

\usepackage{fancyhdr}
\usepackage{lastpage}
\pagestyle{fancy}

\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.4pt}
\lfoot{\scriptsize © 2020 Bebras (CC BY-SA 4.0)}
\cfoot{\scriptsize\itshape 2020-CN-04 Mosaïque}
\rfoot{\scriptsize Page~\thepage{}/\pageref*{LastPage}}

\newcommand{\taskGraphicsFolder}{..}

\begin{document}

\section*{\centering{} 2020-CN-04 Mosaïque}


\subsection*{Body}

Giulia veut acheter des tesselles pour réaliser ce personnage en mosaïque:

{\centering%
\includesvg[width=64.9px]{\taskGraphicsFolder/graphics/2020-CN-04_taskbody1-compatible.svg}\par}

Le magasin de jouets propose différentes tesselles en quantité au choix. Le prix par tesselle varie entre $1$ et $7$ pièces de monnaie.

{\centering%
\includesvg[width=1\linewidth]{\taskGraphicsFolder/graphics/2020-CN-04_taskbody2-compatible.svg}\par}

Les tesselles peuvent être tournées comme désiré lors de l’assemblage, mais elles ne peuvent pas se chevaucher.

{\em

\subsection*{Question/Challenge}

Combien de pièces de monnaie Giulia doit-elle dépenser si elle choisit l’option la moins chère?

}\begingroup
\renewcommand{\arraystretch}{1.5}
\subsection*{Answer Options/Interactivity Description}

\begin{tabular}{ @{} r l @{} }
  A) & $13$ pièces de monnaie \\ 
  B) & $14$ pièces de monnaie \\ 
  C) & $16$ pièces de monnaie \\ 
  D) & $20$ pièces de monnaie
\end{tabular}

\endgroup

\subsection*{Answer Explanation}

La bonne réponse est $13$ pièces de monnaie.

L’une des méthodes pour résoudre cet exercice consiste à considérer séparément les différentes parties du personnage. Le plus simple est de commencer par la tête, qui ne peut être assemblée qu’avec des tesselles rondes:

{\centering%
\includesvg[width=216.5px]{\taskGraphicsFolder/graphics/2020-CN-04_explanation1.svg}\par}

Il n’y a que deux possibilités pour assembler la tête: soit on utilise directement la tesselle adaptée pour $6$ pièces de monnaie, soit on l’assemble à partir des deux autres tesselles ronde qui coûtent ensemble $4$~+~$1$~=~$5$ pièces de monnaie. Comme la deuxième option est moins chère, c’est celle que l’on utilise.

Le reste du personnage ne peut être assemblé qu’avec des tesselles anguleuses.

{\centering%
\includesvg[width=295.8px]{\taskGraphicsFolder/graphics/2020-CN-04_explanation2.svg}\par}

On pourrait maintenant essayer toutes les variantes possibles pour assembler le personnage et calculer le prix de chacune, mais ceci prend beaucoup de temps. Les observations suivantes concernant les tesselles anguleuse nous mènent rapidement à la solution:

{\centering%
\includesvg[width=339.1px]{\taskGraphicsFolder/graphics/2020-CN-04_explanation3.svg}\par}

\begin{itemize}
  \item Une tesselle carrée coûtant $5$ pièces de monnaie peut toujours être remplacée par deux rectangles à ${1 + 1 = 2}$ pièces de monnaie, ce qui est toujours moins cher.
  \item On pourrait également remplacer une tesselle carrée par deux tesselles triangulaires, ce qui serait un peu plus cher avec ${2 + 2 = 4}$ pièces de monnaies. C’est donc une moins bonne option.
\end{itemize}

Giulia n’achète donc jamais de carré même s’il irait bien à un certain endroit, mais toujours deux rectangles.

\begin{itemize}
  \item Un trapèze coûtant $7$ pièces de monnaie peut être assemblé avec un carré et un triangle. En remplaçant le carré par deux rectangles, on arrive à ${1 + 1 + 2 = 4}$ pièces de monnaie pour un trapèze.
\end{itemize}

Giulia n’achète donc jamais de trapèze même s’il irait bien à un endroit, mais l’assemble toujours à partir de deux rectangles et un triangle.

\begin{itemize}
  \item On peut remplacer le parallélogramme à $3$ pièces de monnaie par deux triangles à ${2 + 2 = 4}$ pièces de monnaie. Ce n’est pas une bonne option, car c’est plus cher que le parallélogramme.
Un parallélogramme pourrait être utile à Giulia, mais cela n’est déterminé que par une analyse plus précise.
\end{itemize}

\begin{tabularx}{\columnwidth}{ @{} l J l J @{} }
  \multicolumn{2}{l}{{\setstretch{1.0}\thead[lb]{Version A}}} & \multicolumn{2}{l}{{\setstretch{1.0}\thead[lb]{Version B}}} \\ 
\midrule
  \makecell[l]{\includesvg[width=57.7px]{\taskGraphicsFolder/graphics/2020-CN-04_explanation4.svg}} & \begin{itemize}
  \item Tête à $5$ pièces de monnaie
  \item Corps fait de $4$ rectangles et $2$ triangles: \newline ${1 + 1 + 1 + 1 + 2 + 2 = 8}$ pièces
\end{itemize}

 & \makecell[l]{\includesvg[width=57.7px]{\taskGraphicsFolder/graphics/2020-CN-04_explanation5.svg}} & \begin{itemize}
  \item Tête à $5$ pièces de monnaie
  \item Corps fait d’$1$ parallélogramme, $2$ rectangles et $2$ triangles: \newline ${3 + 1 + 1 + 2 + 2 = 9}$ pièces
\end{itemize}


\end{tabularx}

Si Giulia n’utilise pas de parallélogramme, elle a besoin de deux triangles pour assembler les pointes triangulaires à gauche et à droite du personnage. Elle peut assembler le reste avec des rectangles, comme dans la version A, qui coûte ${5 + 8 = 13}$ pièces de monnaie.

Le parallélogramme ne va qu’à un endroit du personnage comme montré dans la version B (ou reflété horizontalement). Si un parallélogramme est placé ainsi et que le reste de la figure est assemblé avec des rectangles et des triangles, le personnage coûte ${5 + 9 = 14}$ pièces de monnaie. Tous les autres placements du parallélogramme laisseraient des trous ne pouvant pas être remplis.

C’est donc clair que la version la moins chère coûte $13$ pièces de monnaie.


\subsection*{It’s Informatics}

L’exercice consistant à assembler une figure précise avec des tesselles données peut vite devenir très compliqué même avec peu de pièces. Le jeu de puzzle Tangram en est un exemple.

Le problème ci-dessus est encore plus compliqué car il faut aussi optimiser le prix total des tesselles. En informatique, on appelle un tel problème un \emph{problème d’optimisation}.

Le problème a été résolu grâce à un principe important en informatique: il s’agit de diviser un problème en problèmes plus petits que l’on peut résoudre indépendamment les uns des autres et dont les solutions peuvent se combiner pour obtenir la solution complète. Concrètement, le problème a été divisé en deux plus petits problèmes, un pour les tesselles rondes et un pour les tesselles anguleuse. Pour les tesselles anguleuses, on peut ensuite réutiliser partout la combinaison de tesselles la moins chère pour assembler un carré sans devoir y réfléchir à chaque fois. C’est la même chose pour le parallélogramme.

La division d’un problème en sous-problèmes indépendants est un concept très important en programmation. La réutilisation de solutions pour des problèmes apparaissant plusieurs fois permet de gagner beaucoup de temps. On parle ici du principe de \emph{modularité}. La division en sous-problèmes est aussi à la base des programmes suivant le principe \emph{“diviser pour régner”} (“\emph{divide et impera}” en latin, “\emph{divide and conquer}” en anglais).

{\raggedright

\subsection*{Keywords and Websites}

\begin{itemize}
  \item Problème d’optimisation: \href{https://fr.wikipedia.org/wiki/Optimisation_(math\%C3\%A9matiques)}{\BrochureUrlText{https://fr.wikipedia.org/wiki/Optimisation\_(mathématiques)}}
  \item Diviser pour régner: \href{https://fr.wikipedia.org/wiki/Diviser_pour_r\%C3\%A9gner_(informatique)}{\BrochureUrlText{https://fr.wikipedia.org/wiki/Diviser\_pour\_régner\_(informatique)}}
  \item Modularité: \href{https://fr.wikipedia.org/wiki/Notion_de_module}{\BrochureUrlText{https://fr.wikipedia.org/wiki/Notion\_de\_module}}, \href{https://fr.wikipedia.org/wiki/Programmation_modulaire}{\BrochureUrlText{https://fr.wikipedia.org/wiki/Programmation\_modulaire}}
  \item Tangram: \href{https://fr.wikipedia.org/wiki/Tangram}{\BrochureUrlText{https://fr.wikipedia.org/wiki/Tangram}}
\end{itemize}


}
\end{document}
